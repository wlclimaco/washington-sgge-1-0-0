<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
    PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
    "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="Filial">

	<resultMap id="FilialResult" type="Filial">
		<result property="codemp" column="codemp" />
		<result property="codfilial" column="codfilial" />
		<result property="razfilial" column="razfilial" />
		<result property="nomefilial" column="nomefilial" />
		<result property="mzfilial" column="mzfilial" />
		<result property="cnpjfilial" column="cnpjfilial" />
		<result property="inscfilial" column="inscfilial" />
		<result property="codend" column="codend" />
		<result property="coddistfilial" column="coddistfilial" />
		<result property="percpisfilial" column="percpisfilial" />
		<result property="perccofinsfilial" column="perccofinsfilial" />
		<result property="percirfilial" column="percirfilial" />
		<result property="perccsocialfilial" column="perccsocialfilial" />
		<result property="simplesfilial" column="simplesfilial" />
		<result property="percsimplesfilial" column="percsimplesfilial" />
		<result property="codmunic" column="codmunic" />
		<result property="siglauf" column="siglauf" />
		<result property="codpais" column="codpais" />
		<result property="codempuc" column="codempuc" />
		<result property="codfilialuc" column="codfilialuc" />
		<result property="codunifcod" column="codunifcod" />
		<result property="inscmunfilial" column="inscmunfilial" />
		<result property="cnaefilial" column="cnaefilial" />
		<result property="percissfilial" column="percissfilial" />
		<result property="contribipifilial" column="contribipifilial" />
		<result property="timbrefilial" column="timbrefilial" />
		<result property="perfilfilial" column="perfilfilial" />
		<result property="indativfilial" column="indativfilial" />
		<result property="dtins" column="dtins" />
		<result property="hins" column="hins" />
		<result property="idusuins" column="idusuins" />
		<result property="dtalt" column="dtalt" />
		<result property="halt" column="halt" />
		<result property="idusualt" column="idusualt" />
		<result property="codempco" column="codempco" />
		<result property="codfilialco" column="codfilialco" />
		<result property="codfor" column="codfor" />
		<result property="suframa" column="suframa" />
		<result property="sedeMatriz" column="sedeMatriz" />
	</resultMap>

	<sql id="allFilialColumms">
			codemp, codfilial, razfilial, razemp, nomefilial, mzfilial, cnpjfilial,
	       inscfilial, codend, coddistfilial, percpisfilial, perccofinsfilial,
	       percirfilial, perccsocialfilial, percsimplesfilial, simplesfilial,
	       codempuc, codfilialuc, codunifcod, inscmunfilial, cnaefilial,
	       percissfilial, contribipifilial, timbrefilial, perfilfilial,
	       indativfilial, dtins, hins, dtalt, halt, idusuins, codempco,
	       codfilialco, suframa, sedematriz
	</sql>

	<!-- Fetch All Tags -->
	<select id="fetchAllFiliais" parameterType="Map" resultMap="FilialResult">

		SELECT codemp, codfilial, razfilial, razemp, nomefilial, mzfilial, cnpjfilial,
	       inscfilial, codend, coddistfilial, percpisfilial, perccofinsfilial,
	       percirfilial, perccsocialfilial, percsimplesfilial, simplesfilial,
	       codempuc, codfilialuc, codunifcod, inscmunfilial, cnaefilial,
	       percissfilial, contribipifilial, timbrefilial, perfilfilial,
	       indativfilial, dtins, hins, dtalt, halt, idusuins, codempco,
	       codfilialco, suframa, sedematriz
 		FROM filial;

	</select>

	<select id="insertFilial" parameterType="Filial" resultType="int">
	SELECT ins_filial (
		#{codemp,jdbcType=INTEGER},
		#{razfilial,jdbcType=VARCHAR},
		#{nomefilial,jdbcType=VARCHAR},
		#{mzfilial,jdbcType=VARCHAR},
		#{cnpjfilial,jdbcType=VARCHAR},
		#{inscfilial,jdbcType=VARCHAR},
		#{codend.codend,jdbcType=INTEGER},
		#{coddistfilial,jdbcType=VARCHAR},
		#{percpisfilial,jdbcType=DOUBLE},
		#{perccofinsfilial,jdbcType=DOUBLE},
		#{percirfilial,jdbcType=DOUBLE},
		#{perccsocialfilial,jdbcType=DOUBLE},
		#{percsimplesfilial,jdbcType=DOUBLE},
		#{simplesfilial,jdbcType=VARCHAR},
		#{codempuc,jdbcType=INTEGER},
		#{codfilialuc,jdbcType=INTEGER},
		#{codunifcod,jdbcType=INTEGER},
		#{codmunic,jdbcType=VARCHAR},
		#{cnaefilial,jdbcType=VARCHAR},
		#{percissfilial,jdbcType=DOUBLE},
		#{contribipifilial,jdbcType=VARCHAR},
		#{timbrefilial,jdbcType=VARCHAR},
		#{perfilfilial,jdbcType=VARCHAR},
		#{indativfilial,jdbcType=VARCHAR},
		#{idusuins,jdbcType=INTEGER},
		#{codempco,jdbcType=INTEGER},
		#{codfilialco,jdbcType=INTEGER},
		#{suframa,jdbcType=INTEGER})

	</select>

		<select id="insertEndereco" parameterType="Filial" resultType="int">
	SELECT ins_endereco (
        #{codend.endereco,jdbcType=VARCHAR},
		#{codend.numero,jdbcType=INTEGER},
		#{codend.complemento,jdbcType=VARCHAR},
		#{codend.bairro,jdbcType=VARCHAR},
		#{codend.cep,jdbcType=VARCHAR},
		#{codend.cidade,jdbcType=VARCHAR},
		#{codend.uf,jdbcType=VARCHAR},
		#{codend.ddd,jdbcType=VARCHAR},
		#{codend.fone1,jdbcType=VARCHAR},
		#{codend.fone2,jdbcType=VARCHAR},
		#{codend.email,jdbcType=VARCHAR},
		#{codend.site,jdbcType=VARCHAR},
		#{codend.nomecontemp,jdbcType=VARCHAR},
		#{codend.uf,jdbcType=VARCHAR},
		#{codend.codmunic,jdbcType=VARCHAR},
		#{codend.codpais,jdbcType=VARCHAR})

	</select>
</mapper>

