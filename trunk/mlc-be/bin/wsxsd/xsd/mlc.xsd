<xs:schema xmlns:xs="http://www.w3.org/2001/XMLSchema"
	xmlns:jaxb="http://java.sun.com/xml/ns/jaxb" jaxb:version="2.0"
	xmlns:tns="http://www.sensus.com/gateway/mlc" elementFormDefault="qualified"
	xmlns:types="http://www.sensus.com/gateway/mlc/types" targetNamespace="http://www.sensus.com/gateway/mlc">

	<xs:import schemaLocation="../imported/xsd/mlcTypes.xsd"
		namespace="http://www.sensus.com/gateway/mlc/types" />

	<!-- ApplyScheduleRequest. Applies schedule info to one or more smartpoints -->
	<xs:element name="InitiateApplyScheduleRequest">
		<xs:complexType>
			<xs:complexContent>
				<xs:extension base="types:MlcGatewayRequest">
					<xs:sequence>
						<xs:element minOccurs="1" maxOccurs="unbounded" name="scheduledSmartpoint"
							type="types:ScheduledSmartpoint" />
					</xs:sequence>
				</xs:extension>
			</xs:complexContent>
		</xs:complexType>
	</xs:element>

	<xs:element name="InitiateApplyScheduleResponse">
		<xs:complexType>
			<xs:complexContent>
				<xs:extension base="types:MlcGatewayResponse">
				</xs:extension>
			</xs:complexContent>
		</xs:complexType>
	</xs:element>

	<xs:element name="ApplyScheduleNotification">
		<xs:complexType>
			<xs:complexContent>
				<xs:extension base="types:MlcGatewayNotification">
				</xs:extension>
			</xs:complexContent>
		</xs:complexType>
	</xs:element>

	<xs:element name="ApplyScheduleNotificationResult">
		<xs:complexType>
			<xs:complexContent>
				<xs:extension base="types:MlcGatewayNotificationResult">
				</xs:extension>
			</xs:complexContent>
		</xs:complexType>
	</xs:element>

	<!-- ClearScheduleRequest. This message will clear schedule info from one 
		or more smartpoints -->
	<xs:element name="InitiateClearScheduleRequest">
		<xs:complexType>
			<xs:complexContent>
				<xs:extension base="types:MlcGatewayRequest">
					<xs:sequence>
						<xs:element minOccurs="1" maxOccurs="unbounded" name="Smartpoint"
							type="types:Smartpoint" />
						<xs:element minOccurs="1" maxOccurs="2" name="ScheduleType"
							type="types:ScheduleType" />
					</xs:sequence>
				</xs:extension>
			</xs:complexContent>
		</xs:complexType>
	</xs:element>

	<xs:element name="InitiateClearScheduleResponse">
		<xs:complexType>
			<xs:complexContent>
				<xs:extension base="types:MlcGatewayResponse">
				</xs:extension>
			</xs:complexContent>
		</xs:complexType>
	</xs:element>

	<xs:element name="ClearScheduleNotification">
		<xs:complexType>
			<xs:complexContent>
				<xs:extension base="types:MlcGatewayNotification">
				</xs:extension>
			</xs:complexContent>
		</xs:complexType>
	</xs:element>

	<xs:element name="ClearScheduleNotificationResult">
		<xs:complexType>
			<xs:complexContent>
				<xs:extension base="types:MlcGatewayNotificationResult">
				</xs:extension>
			</xs:complexContent>
		</xs:complexType>
	</xs:element>


	<!-- Set Light Level (currently only on/off supported) -->
	<xs:element name="InitiateApplyLightLevelRequest">
		<xs:complexType>
			<xs:complexContent>
				<xs:extension base="types:MlcGatewayRequest">
					<xs:sequence>
						<xs:element minOccurs="1" maxOccurs="unbounded" name="DimmedSmartpoint"
							type="types:DimmedSmartpoint" />
					</xs:sequence>
				</xs:extension>
			</xs:complexContent>
		</xs:complexType>
	</xs:element>

	<xs:element name="InitiateApplyLightLevelResponse">
		<xs:complexType>
			<xs:complexContent>
				<xs:extension base="types:MlcGatewayResponse">
				</xs:extension>
			</xs:complexContent>
		</xs:complexType>
	</xs:element>

	<xs:element name="ApplyLightLevelNotification">
		<xs:complexType>
			<xs:complexContent>
				<xs:extension base="types:MlcGatewayNotification">
				</xs:extension>
			</xs:complexContent>
		</xs:complexType>
	</xs:element>

	<xs:element name="ApplyLightLevelNotificationResult">
		<xs:complexType>
			<xs:complexContent>
				<xs:extension base="types:MlcGatewayNotificationResult">
				</xs:extension>
			</xs:complexContent>
		</xs:complexType>
	</xs:element>

	<!-- Set Dimming Level  -->
	<xs:element name="InitiateApplyDimmingConfigurationRequest">
		<xs:complexType>
			<xs:complexContent>
				<xs:extension base="types:MlcGatewayRequest">
					<xs:sequence>
						<xs:element minOccurs="1" maxOccurs="unbounded" name="smartpoint"
							type="types:Smartpoint" />
						<xs:element minOccurs="1" maxOccurs="unbounded" name="dimmingConfiguration"
							type="types:LightDimmingConfiguration" />
					</xs:sequence>
				</xs:extension>
			</xs:complexContent>
		</xs:complexType>
	</xs:element>

	<xs:element name="InitiateApplyDimmingConfigurationResponse">
		<xs:complexType>
			<xs:complexContent>
				<xs:extension base="types:MlcGatewayResponse">
				</xs:extension>
			</xs:complexContent>
		</xs:complexType>
	</xs:element>

	<xs:element name="ApplyDimmingConfigurationNotification">
		<xs:complexType>
			<xs:complexContent>
				<xs:extension base="types:MlcGatewayNotification">
				</xs:extension>
			</xs:complexContent>
		</xs:complexType>
	</xs:element>

	<xs:element name="ApplyDimmingConfigurationNotificationResult">
		<xs:complexType>
			<xs:complexContent>
				<xs:extension base="types:MlcGatewayNotificationResult">
				</xs:extension>
			</xs:complexContent>
		</xs:complexType>
	</xs:element>
	
	
	<!-- Abort Transaction. Simplistic approach until more information is gathered -->
	<xs:element name="AbortTransactionRequest">
		<xs:complexType>
			<xs:complexContent>
				<xs:extension base="types:MlcGatewayRequest"></xs:extension>
			</xs:complexContent>
		</xs:complexType>
	</xs:element>

	<xs:element name="AbortTransactionResponse">
		<xs:complexType>
			<xs:complexContent>
				<xs:extension base="types:MlcGatewayResponse"></xs:extension>
			</xs:complexContent>
		</xs:complexType>
	</xs:element>

	<!-- Ping URL -->
	<xs:element name="PingURLRequest">
		<xs:complexType>
			<xs:complexContent>
				<xs:extension base="types:MlcGatewayRequest"></xs:extension>
			</xs:complexContent>
		</xs:complexType>
	</xs:element>

	<xs:element name="PingURLResponse">
		<xs:complexType>
			<xs:complexContent>
				<xs:extension base="types:MlcGatewayResponse"></xs:extension>
			</xs:complexContent>
		</xs:complexType>
	</xs:element>

	<!-- Supervisory status/alarm info and Get Light Details -->
	<xs:element name="InitiateReadLightStatusRequest">
		<xs:complexType>
			<xs:complexContent>
				<xs:extension base="types:MlcGatewayRequest">
					<xs:sequence>
						<xs:element minOccurs="1" maxOccurs="unbounded" name="DataType"
							type="types:DataType" />
						<xs:element minOccurs="1" maxOccurs="unbounded" name="Smartpoint"
							type="types:Smartpoint" />
					</xs:sequence>
				</xs:extension>
			</xs:complexContent>
		</xs:complexType>
	</xs:element>

	<xs:element name="InitiateReadLightStatusResponse">
		<xs:complexType>
			<xs:complexContent>
				<xs:extension base="types:MlcGatewayResponse">
				</xs:extension>
			</xs:complexContent>
		</xs:complexType>
	</xs:element>


	<xs:element name="ReadLightStatusNotification">
		<xs:complexType>
			<xs:complexContent>
				<xs:extension base="types:MlcGatewayDataNotification">
				</xs:extension>
			</xs:complexContent>
		</xs:complexType>
	</xs:element>

	<xs:element name="ReadLightStatusNotificationResult">
		<xs:complexType>
			<xs:complexContent>
				<xs:extension base="types:MlcGatewayNotificationResult">
				</xs:extension>
			</xs:complexContent>
		</xs:complexType>
	</xs:element>



	<!-- Clear alarms and warnings -->
	<xs:element name="InitiateClearAlarmsRequest">
		<xs:complexType>
			<xs:complexContent>
				<xs:extension base="types:MlcGatewayRequest">
					<xs:sequence>
						<xs:element minOccurs="1" maxOccurs="unbounded" name="Smartpoint"
							type="types:Smartpoint" />
						<xs:element minOccurs="0" maxOccurs="1" name="ClearAlarmsType"
							type="types:ClearAlarmsType" />
						<xs:element minOccurs="0" maxOccurs="unbounded" name="Alarms"
							type="types:AlarmWarningInfo" />
					</xs:sequence>
				</xs:extension>
			</xs:complexContent>
		</xs:complexType>
	</xs:element>

	<xs:element name="InitiateClearAlarmsResponse">
		<xs:complexType>
			<xs:complexContent>
				<xs:extension base="types:MlcGatewayResponse">
				</xs:extension>
			</xs:complexContent>
		</xs:complexType>
	</xs:element>


	<xs:element name="ClearAlarmsNotification">
		<xs:complexType>
			<xs:complexContent>
				<xs:extension base="types:MlcGatewayNotification">
				</xs:extension>
			</xs:complexContent>
		</xs:complexType>
	</xs:element>

	<xs:element name="ClearAlarmsNotificationResult">
		<xs:complexType>
			<xs:complexContent>
				<xs:extension base="types:MlcGatewayNotificationResult">
				</xs:extension>
			</xs:complexContent>
		</xs:complexType>
	</xs:element>


	<!-- Set Endpoint properties -->
	<xs:element name="InitiateApplySmartpointPropertiesRequest">
		<xs:complexType>
			<xs:complexContent>
				<xs:extension base="types:MlcGatewayRequest">
					<xs:sequence>
						<xs:element minOccurs="1" maxOccurs="unbounded" name="Smartpoint"
							type="types:Smartpoint" />
						<xs:element minOccurs="0" maxOccurs="1" name="Latitude"
							type="types:Double" />
						<xs:element minOccurs="0" maxOccurs="1" name="Longitude"
							type="types:Double" />
						<xs:element minOccurs="0" maxOccurs="1" name="PoleId"
							type="xs:string" />
					</xs:sequence>
				</xs:extension>
			</xs:complexContent>
		</xs:complexType>
	</xs:element>

	<xs:element name="InitiateApplySmartpointPropertiesResponse">
		<xs:complexType>
			<xs:complexContent>
				<xs:extension base="types:MlcGatewayResponse">
				</xs:extension>
			</xs:complexContent>
		</xs:complexType>
	</xs:element>


	<xs:element name="ApplySmartpointPropertiesNotification">
		<xs:complexType>
			<xs:complexContent>
				<xs:extension base="types:MlcGatewayNotification">
				</xs:extension>
			</xs:complexContent>
		</xs:complexType>
	</xs:element>

	<xs:element name="ApplySmartpointPropertiesNotificationResult">
		<xs:complexType>
			<xs:complexContent>
				<xs:extension base="types:MlcGatewayNotificationResult">
				</xs:extension>
			</xs:complexContent>
		</xs:complexType>
	</xs:element>


	<!-- Request Endpoint Data -->
	<xs:element name="InitiateReadSmartpointPropertiesRequest">
		<xs:complexType>
			<xs:complexContent>
				<xs:extension base="types:MlcGatewayRequest">
					<xs:sequence>
						<xs:element minOccurs="1" maxOccurs="unbounded" name="Smartpoint"
							type="types:Smartpoint" />
						<xs:element minOccurs="0" maxOccurs="unbounded" name="RequestType"
							type="types:RequestType" />
					</xs:sequence>
				</xs:extension>
			</xs:complexContent>
		</xs:complexType>
	</xs:element>

	<xs:element name="InitiateReadSmartpointPropertiesResponse">
		<xs:complexType>
			<xs:complexContent>
				<xs:extension base="types:MlcGatewayResponse">
				</xs:extension>
			</xs:complexContent>
		</xs:complexType>
	</xs:element>


	<xs:element name="ReadSmartpointPropertiesNotification">
		<xs:complexType>
			<xs:complexContent>
				<xs:extension base="types:MlcGatewayNotification">
				</xs:extension>
			</xs:complexContent>
		</xs:complexType>
	</xs:element>

	<xs:element name="ReadSmartpointPropertiesNotificationResult">
		<xs:complexType>
			<xs:complexContent>
				<xs:extension base="types:MlcGatewayNotificationResult">
				</xs:extension>
			</xs:complexContent>
		</xs:complexType>
	</xs:element>
	
<!-- 	///////////// -->


<!-- Request Endpoint Data -->
	<xs:element name="InitiateUpdateLightStatusRequest">
		<xs:complexType>
			<xs:complexContent>
				<xs:extension base="types:MlcGatewayRequest">
					<xs:sequence>
					<xs:element minOccurs="1" maxOccurs="unbounded" name="Smartpoint"
							type="types:SmartpointStateLevel" />
					</xs:sequence>
				</xs:extension>
			</xs:complexContent>
		</xs:complexType>
	</xs:element>

	<xs:element name="InitiateUpdateLightStatusResponse">
		<xs:complexType>
			<xs:complexContent>
				<xs:extension base="types:MlcGatewayResponse">
				</xs:extension>
			</xs:complexContent>
		</xs:complexType>
	</xs:element>


	<xs:element name="UpdateLightStatusNotification">
		<xs:complexType>
			<xs:complexContent>
				<xs:extension base="types:MlcGatewayNotification">
					<xs:sequence>
						<xs:element name="smartpointStateLevel" type="types:SmartpointStateLevel" />
					</xs:sequence>
				</xs:extension>
			</xs:complexContent>
		</xs:complexType>
	</xs:element>

	<xs:element name="UpdateLightStatusNotificationResult">
		<xs:complexType>
			<xs:complexContent>
				<xs:extension base="types:MlcGatewayNotificationResult">
				</xs:extension>
			</xs:complexContent>
		</xs:complexType>
	</xs:element>



	<!-- *** Supervisory messages (Notifications that are sent without prior 
		InitiateXXXX request and therefore have no transaction Id** -->

	<!-- Status and Alarm Messages - AppCodes 11(0x0B)/90(0x5A); sent at configured 
		transmit rate (which one is sent depends on whether alarm conditions are 
		present or not) -->
	<!-- Should we split them out for consistencies sake? -->
	<xs:element name="LightStatusNotification">
		<xs:complexType>
			<xs:complexContent>
				<xs:extension base="types:MlcGatewaySupervisoryNotification">
					<xs:sequence>
						<xs:element name="SmartpointDetail" type="types:AppCode90Info" />
					</xs:sequence>
				</xs:extension>
			</xs:complexContent>
		</xs:complexType>
	</xs:element>

	<xs:element name="LightStatusNotificationResult">
		<xs:complexType>
			<xs:complexContent>
				<xs:extension base="types:MlcGatewaySupervisoryNotificationResult">
				</xs:extension>
			</xs:complexContent>
		</xs:complexType>
	</xs:element>

	<!-- Light Setup Message - AppCode 9 (0x09); sent bi-weekly -->
	<xs:element name="LightSetupNotification">
		<xs:complexType>
			<xs:complexContent>
				<xs:extension base="types:MlcGatewaySupervisoryNotification" />
			</xs:complexContent>
		</xs:complexType>
	</xs:element>

	<xs:element name="LightSetupNotificationResult">
		<xs:complexType>
			<xs:complexContent>
				<xs:extension base="types:MlcGatewaySupervisoryNotificationResult" />
			</xs:complexContent>
		</xs:complexType>
	</xs:element>
	<!-- Channel Setup Audit Message - AppCode 75 (0x4B) -->
	<xs:element name="ChannelSetupAuditNotification">
		<xs:complexType>
			<xs:complexContent>
				<xs:extension base="types:MlcGatewaySupervisoryNotification">
					<xs:sequence>
						<xs:element name="smartpointDetail" type="types:AppCode75Info" />
					</xs:sequence>
				</xs:extension>
			</xs:complexContent>
		</xs:complexType>
	</xs:element>

	<xs:element name="ChannelSetupAuditNotificationResult">
		<xs:complexType>
			<xs:complexContent>
				<xs:extension base="types:MlcGatewaySupervisoryNotificationResult">
				</xs:extension>
			</xs:complexContent>
		</xs:complexType>
	</xs:element>

	<!-- Channel Setup Audit 2 Message - AppCode 85 (0x55) -->
	<xs:element name="ChannelSetupAudit2Notification">
		<xs:complexType>
			<xs:complexContent>
				<xs:extension base="types:MlcGatewaySupervisoryNotification">
					<xs:sequence>
						<xs:element name="smartpointDetail" type="types:AppCode85Info" />
					</xs:sequence>
				</xs:extension>
			</xs:complexContent>
		</xs:complexType>
	</xs:element>

	<xs:element name="ChannelSetupAudit2NotificationResult">
		<xs:complexType>
			<xs:complexContent>
				<xs:extension base="types:MlcGatewaySupervisoryNotificationResult">
				</xs:extension>
			</xs:complexContent>
		</xs:complexType>
	</xs:element>
	<!-- Light Binding Message - AppCode 86 (0x56); sent bi-weekly -->
	<xs:element name="LightBindingNotification">
		<xs:complexType>
			<xs:complexContent>
				<xs:extension base="types:MlcGatewaySupervisoryNotification">
					<xs:sequence>
						<xs:element name="smartpointDetail" type="types:AppCode86Info" />
						<xs:element name="installationDetail" type="types:InstallationInfo" />
					</xs:sequence>
				</xs:extension>
			</xs:complexContent>
		</xs:complexType>
	</xs:element>

	<xs:element name="LightBindingNotificationResult">
		<xs:complexType>
			<xs:complexContent>
				<xs:extension base="types:MlcGatewaySupervisoryNotificationResult">
				</xs:extension>
			</xs:complexContent>
		</xs:complexType>
	</xs:element>

	<!-- Alarm Warning Message - AppCode 11 (0x0B); sent when condition is triggered -->
	<xs:element name="AlarmWarningNotification">
		<xs:complexType>
			<xs:complexContent>
				<xs:extension base="types:MlcGatewaySupervisoryNotification">
					<xs:sequence>
						<xs:element name="smartpointDetail" type="types:AppCode11Info" />
					</xs:sequence>
				</xs:extension>
			</xs:complexContent>
		</xs:complexType>
	</xs:element>

	<xs:element name="AlarmWarningNotificationResult">
		<xs:complexType>
			<xs:complexContent>
				<xs:extension base="types:MlcGatewaySupervisoryNotificationResult">
				</xs:extension>
			</xs:complexContent>
		</xs:complexType>
	</xs:element>

	<!-- Attribute Notification AppCode 94 (0x5E) -->
	<!-- The request for attribute message notifications. -->
	<xs:element name="AttributeNotification">
		<xs:complexType>
			<xs:complexContent>
				<xs:extension base="types:MlcGatewaySupervisoryNotification">
					<xs:sequence>
						<xs:element name="smartpointDetail" type="types:AppCode94InfoIndividual" />
					</xs:sequence>
				</xs:extension>
			</xs:complexContent>
		</xs:complexType>
	</xs:element>

	<xs:element name="AttributeNotificationResult">
		<xs:complexType>
			<xs:complexContent>
				<xs:extension base="types:MlcGatewaySupervisoryNotificationResult">
				</xs:extension>
			</xs:complexContent>
		</xs:complexType>
	</xs:element>

	<!-- CustomerSerialNumber Notification AppCode 71 (0x47) -->
	<!-- The request for customer serial number message notifications. -->
	<xs:element name="CustomerSerialNumberNotification">
		<xs:complexType>
			<xs:complexContent>
				<xs:extension base="types:MlcGatewaySupervisoryNotification">
					<xs:sequence>
						<xs:element name="customerSerial" type="xs:string" />
					</xs:sequence>
				</xs:extension>
			</xs:complexContent>
		</xs:complexType>
	</xs:element>

	<xs:element name="CustomerSerialNumberNotificationResult">
		<xs:complexType>
			<xs:complexContent>
				<xs:extension base="types:MlcGatewaySupervisoryNotificationResult">
				</xs:extension>
			</xs:complexContent>
		</xs:complexType>
	</xs:element>
</xs:schema>