(function(a){a.fn.truncatable=function(b){var c={limit:100,more:"...",less:false,hideText:"[read less]"};var b=a.extend(c,b);return this.each(function(g){var d=a(this).html().length;if(d>c.limit){var k=a(this).html().substr(c.limit);var f=k.substr(0,1);var l=new RegExp(/^\s+$/);for(var j=c.limit;j<d;j++){var i=a(this).html().substr(0,j);var m=a(this).html().substr(j);var e=i.slice(-1);if(l.test(e)){var o='<span class="hiddenText_'+g+'" style="display:none">'+m+"</span>";var n=(j-1);var h=a("<a>").attr("class","more_"+g+"");a(this).html(a(this).html().substr(0,n)).append('<a class="more_'+g+'" href="#">'+c.more+"<a/> "+o);a("a.more_"+g).bind("click",function(){a("span.hiddenText_"+g).show();a("a.more_"+g).hide();if(c.less==true){a("span.hiddenText_"+g).append('<a class="hide_'+g+'" href="" title="'+c.hideText+'">'+c.hideText+"</a>");a("a.hide_"+g).bind("click",function(){a(".hiddenText_"+g).hide();a(".more_"+g).show();a(".hide_"+g).empty();return false})}});j=d}}}})}})(jQuery);